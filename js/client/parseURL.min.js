!function(e){"use strict";var r,n,t,o,a,u,i,l,c,s,f,h;u=[require("enrich_kinome")],r=function(e){var r,n,t=decodeURIComponent(location.href),o=[];for(e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),n=(r=new RegExp("(?:[\\?&]"+e+'=")([^"]*)"',"g")).exec(t);n;)o.push(n[1]),n=r.exec(t);return o},c=function(e){var r,n,t,o=[];for(t=(n=new RegExp("data=\\*\\[([\\s\\S]+?)\\]\\*","g")).exec(e);t;)o.push(t[1]),t=n.exec(e);for(r=0;r<o.length;r+=1)o[r]=o[r].split(";");return o},h=function(e){return require(e,"style").catch(function(r){KINOME.error(r,"Failed to load style: "+e+".")})},l=function(e){return require(e,"json").then(function(r){var n,t,o,a=[];for(n=0;n<r.length;n+=1){for(o=r[n],Array.isArray(o)||(o=[o]),t=0;t<o.length;t+=1)Object.defineProperty(o[t],"data_origin_url",{enumerable:!1,configurable:!1,writable:!1,value:e[n]});o=KINOME.enrich(o),a=a.concat(o)}return a})},f=function(e){return function(){return require(e).catch(function(r){KINOME.error(r,"Failed to load script: "+e+".")})}},s=r("text"),i=r("style"),n=c(decodeURIComponent(location.href)),t=r("code"),e.params={},e.params.strings=[],e.params.data=[],e.params.script_urls=t,o=s.length?require(s,"text").then(function(r){var n=0;for(n=0;n<r.length;n+=1)e.params.strings[n]={value:r[n],url:s[n]}}):Promise.resolve(),i.length&&require(i,"style"),Promise.all(u).then(function(){(a=n.map(l).map(function(r,t){return r.then(function(r){e.params.data[t]={value:r,url:n[t]}}).catch(function(e){KINOME.error(e,"Failed to load one of the following data sets: "+n[t].join("<br />"))})})).push(o),Promise.all(a).then(function(){google.charts.setOnLoadCallback(function(){var e,r=Promise.resolve();for(e=0;e<t.length;e+=1)r=r.then(f(t[e]));r.then(f("webpage"))})})}),e.loadData=function(r){return Array.isArray(r)||(r=[r]),l(r).then(function(n){return n=n.map(function(e){return KINOME.enrich(e)}),e.params.data.push({value:n,url:r}),n})},e.loadStyle=h}("undefined"!=typeof module&&module.exports?module.exports:KINOME);