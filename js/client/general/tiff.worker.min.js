self.onmessage=function(e){importScripts("tiff.min.js");var i=e.data;i.memory&&Tiff.initialize({TOTAL_MEMORY:i.memory});var r=new XMLHttpRequest;r.open("GET",i.url,!1),r.responseType="arraybuffer",r.send(null);var s=new Tiff({buffer:r.response}),t=s.readRGBAImage();self.postMessage({image:t,width:s.width(),height:s.height()},[t])};