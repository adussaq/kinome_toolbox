!function(e){"use strict";var t,n,a,i,r,s,o,c,l,u,d,p,f,h,m,b={},_={};c={name:["set_up_table"],"1.0.0":["set_up_table","outlier_tab","level_1_build"],"1.0.1":["set_up_table","level_1_build","normalize_background_tab"],"1.1.2":["set_up_table","level_1_build"],"2.0.1":["set_up_table","reproduce","anova","heatmap"],"2.1.2":["set_up_table","reproduce","anova","heatmap"],peptide_picker:"./plugins/peptide_picker/peptide_picker.js",shiftToMin:"./js/web_main.js",amd_ww:"./js/lib/amd_ww.3.1.0.min.js",enrich_kinome:"./js/lib/enrich_kinome.js",outlier:"./js/lib/quality_filtration.min.js",normalize_background:"./js/lib/background_normalization.js",fit_curves:"./js/lib/parameterize_curves.js",outlier_tab:"./js/client/outlier.js",normalize_background_tab:"./js/client/normalize_background.js",level_1_display:"./plugins/level_1_display/level_1_display.js",level_1_build:"./plugins/level_1_display/level_1_build.js",webpage:"./js/client/webpage.js",set_up_table:"./js/client/set_up_table.js","bs_toggle-js":"./js/client/general/bootstrap-toggle.min.js","bs_toggle-css":"https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css",reproduce:"./js/client/reproducibility.js",fit:"./js/client/fit_one.js",anova:"./js/client/anova.js",heatmap:"./plugins/heat_map/heat_map.js",d3:"http://d3js.org/d3.v3.min.js",hcluster:"./plugins/heat_map/hcluster.js","img-picker":"./plugins/img_picker/img_picker.js","bs_slider-js":"https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/9.8.0/bootstrap-slider.min.js","bs_slider-css":"https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/9.8.0/css/bootstrap-slider.min.css","peptide_picker-css":"./plugins/peptide_picker/peptide_picker.css",gradient:"./plugins/gradient/gradient.js",tb_paper1:'http://138.26.31.155:8000/db/kinome/lvl_2.0.1?find={"name_id":{"$in":["4a39ff16-2322-4037-8912-91a8d0c16921","b9dc1baa-5a54-4785-b4ca-d6e5ecca8982","35df93bf-8a1e-4f12-a76a-1835de02e0bf"]}}',tb_paper2:'http://138.26.31.155:8000/db/kinome/lvl_2.0.1?find={"name_id":{"$in":["d23a15e2-082d-4896-b1c4-e808c731dda2","588ba377-4b75-43a8-b4e8-e39c35d3024d","22703a41-4064-4d6f-8939-20586409428b"]}}',tb_paper3:'http://138.26.31.155:8000/db/kinome/lvl_2.0.1?find={"name_id":{"$in":["fa7fadd6-e3eb-475d-a8a9-393f0b70cc73","1208b67c-3109-4b8f-bb4a-bc4b96b0c20a","81941543-ad28-450f-a788-b75437ac72c5"]}}',tb_paper4:'http://138.26.31.155:8000/db/kinome/lvl_2.0.1?find={"name_id":{"$in":["ece0ab9c-4a2a-4fd2-ac63-fc0fa72c988a","0e564f09-e2d8-4d6c-98bd-d297950b757c","1c95945b-7f63-4e4a-a92b-63c7a081d42f"]}}'},e.KINOME=b,google.charts.load("current",{packages:["corechart"]}),(p=new Dexie("require_cache")).version(1).stores({require_cache:"url"}),f=p.require_cache,m=p.open(),r=function(e,t){var n,a,i,r,s,o,c,l;for(i='\\?find=\\{"name_id":(\\{"\\$in":\\[("'+(a="[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}")+'",*)+\\]\\}|"'+a+'")\\}',i=new RegExp(i,"i"),r=new RegExp(/[\s\S]+name\/*$/i),18e5,c=new Date-new Date(t),o=!1,l=!1,s=[{limit:864e5,regex:r},{limit:7776e6,regex:i},{limit:7776e6,regex:/\.css$/}],n=0;!l&&n<s.length;n+=1)e.match(s[n].regex)&&(l=!0,c<s[n].limit&&(o=!0));return!l&&c<18e5&&(o=!0),o},i=function(){var e,t=[],n=!1;return e=function(e){return function(t){e[0](t)}},function(a,i,r,s){var o,c;n||(n=!0),t.push([a,r,s]),s.then(function(){if(0===Object.keys(_).length){for(c=[];t.length&&0===Object.keys(_).length;)o=t.pop(),c.push(o[2].then(e(o)));Promise.all(c).then(function(){n=!1}).catch(function(){})}}).catch(function(e){i(e)})}}(),b.formatEquation=M.sToMathE,h=function(e,t){return m.then(function(){var n=f.where("url").equals(e);return void 0===t||t?n.toArray().then(function(t){return 1===t.length&&r(e,t[0].time)?t[0].text:n.delete()}):n.delete()})},d=function(e,t){return m.then(function(){return f.put({url:e,text:t,time:String(new Date)})})},o=function(e,n,a){var r,s,l,u,d,p,f,h=[],m=Math.random().toString();if(s=e,l=!1,Array.isArray(s)?e="[array]("+s.length+")"+(n?" of "+n:""):c.hasOwnProperty(s)&&(s=c[s]),"string"==typeof s)p=(u=t(s,n)).func,(l=u.blocking)&&(_[m]=1),f=p?p(s,a):Promise.reject("Type parameter (2nd in require function) was not recognized, valid types are: json, scrip, style, and text. This can also be a blank string and the file extension will be used.");else if(Array.isArray(s)){for(r=0;r<s.length;r+=1)h.push(o(s[r],n,a));f=Promise.all(h).then(function(e){return e})}else f=Promise.reject("Require only accepts strings or arrays.");return f.then(function(e){return delete _[m],e}).catch(function(e){return delete _[m],e}),l?d=new Promise(function(t,n){i(t,n,e,f)}):(f.then(function(e){return e}),d=f),d},t=function(e,t){var i,r=!1;return t?t.match(/^js$|scripts*|codes*/i)?(i=l,r=!0):t.match(/json|data/i)?i=n:t.match(/styles*|css/)?i=a:t.match(/texts*|strings*/)&&(i=s):e.match(/\.js\s*$/i)?(i=l,r=!0):e.match(/\.css\s*$/i)?i=a:e.match(/\.json\s*$/i)?i=n:e.match(/\.txt\s*$/i)?i=s:e.match(/\.jseq\s*$/i)?i=s:(i=l,r=!0),{func:i,blocking:r}},l=function(){var e={};return function(t){var n;return e[t]?n=e[t]:(n=jQuery.ajax({url:t,dataType:"script"}).then(function(){return!0}),e[t]=n),n}}(),s=function(){var e={};return function(t,n){var a;return e[t]?a=e[t]:(a=h(t,n).then(function(e){return"string"==typeof e?e:jQuery.ajax({url:t,dataType:"text"}).then(function(e){return d(t,e),e})}),e[t]=a),a}}(),n=function(e,t){return s(e,t).then(function(e){return JSON.parse(e)})},a=function(e,t){return s(e,t).then(function(e){return $('<style type="text/css"></style>').html(e).appendTo("head"),!0})},o.defaults=c,e.require=o,e.save=function(){var e=document.createElement("a");return e.setAttribute("style","display: none"),document.head.appendChild(e),function(t,n){var a=new Blob([t],{type:"octet/stream"}),i=window.URL.createObjectURL(a);e.href=i,e.download=n,e.click(),window.URL.revokeObjectURL(i)}}(),b.page=$("#main_page"),(u=[[b.page,$("#home_click")],[$("#about_tab"),$("#about_click").parent()]]).hide=function(){this.map(function(e){e[0].hide(),e[1].removeClass("active")}),$("#menu-drop-active").removeClass("active")},u.show=function(e){var t=u[e];t[0].show({duration:0,complete:function(){t[0].thisShow&&t[0].thisShow()}}),t[1].addClass("active"),e>1&&$("#menu-drop-active").addClass("active")},$(".toHome").click(function(e){e.preventDefault(),u.hide(),u.show(0)}),$("#about_click").click(function(e){e.preventDefault(),u.hide(),u.show(1)}),b.addAnalysis=function(e){var t,n,a,i,r=Math.random().toString().replace(/0\./,"");return i=u.length,t=$("<div>",{class:"container",style:"display: none",id:"div"+r}).appendTo("body"),n=$("<li>"),a=$("<a>",{href:"#",text:e}).click(function(e){e.preventDefault(),u.hide(),u.show(i)}),$("#analysesMenu").append(n.append(a)),t.onshow=function(e){t.thisShow=function(){e(),t.thisShow=function(){}}},u.push([t,n]),t},b.error=function(e,t){console.error(e,t),void 0!==t&&$("#status").append('<div class="alert alert-danger alert-dismissable fade in">Error: '+t+'<a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a></div>')},b.get=function(e){var t,n,a=[],i=(e=e||{}).id,r=e.group;return t=void 0!==e.level?e.level:"[\\s\\S]*",t=new RegExp(t,"i"),n=void 0!==e.name?e.name:"[\\s\\S]*",n=new RegExp(n,"i"),b.params.data.map(function(e,s){e.value.map(function(e){!e.level.match(t)||void 0!==r&&s!==r||!e.name.match(n)||void 0!==i&&i!==e.name_id||(e.hasOwnProperty("group")||Object.defineProperty(e,"group",{value:s,enumerable:!1}),a.push(e))})}),b.enrich(a)},b.list=function(e){"string"!=typeof(e=e||"")&&(e="",console.warn("list should only be passed a string"));var t=[],n=[],a=[],i={},r=[];return b.params.data.map(function(e,r){t.push(r),e.value.map(function(e){i[e.level]=1,a.push(e.name),n.push(e.name_id)})}),r=Object.keys(i),""===e?{levels:r,names:a,ids:n,groups:t}:e.match(/level/i)?r:e.match(/name/i)?a:e.match(/group/i)?t:[]}}("undefined"!=typeof module&&module.exports?module.exports:window);