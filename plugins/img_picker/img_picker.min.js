!function(e){"use strict";require("bs_slider-js");require("bs_slider-css");var i=function(e){},o=function(e){return{name:e.name,sample:e.sample.clone(),exposure:e.exposure,cycle:e.cycle}},c=function(e,i,o,c,n){var s,p,r;for(p=0;p<i.length;p+=1)if(i[p]===o){o=p;break}return r=$("<h2>"+function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(n)+"</h2>"),s=$('<input type="text" />'),e.append(r).append($("<div>",{class:"center-block",style:"width:90%"}).append(s)),s.slider({value:o,min:0,max:i.length-1,tooltip_position:"bottom",tooltip:"always",formatter:function(e){return i[e]}}).on("slideStop",function(e){c(n,i[e.value])}),s};e.imagePicker=function(e){var n,s,p,r=e.list("names"),l={name:null,sample:null,exposure:50,cycle:"Post Wash"},a=!1,t=!1,d={},u={},m=i;for(d.div=$("<div>"),u.div=d.div,u.change=function(e){"function"==typeof e?(m=e)(o(l)):console.error("The change function requires a function, not this",e)},u.disableSample=function(){d.samp_dropdown.prop("disabled",!0)},u.disableExposure=function(){d.exposureSlider.slider("disable"),d.exposurePicker.find(".tooltip").hide(),t=!0},u.disableCycle=function(){d.cycleSlider.slider("disable"),d.cyclePicker.find(".tooltip").hide(),a=!0},s=function(){d.cyclePicker.empty(),d.exposurePicker.empty(),d.cycleSlider=c(d.cyclePicker,l.sample.list("cycle"),l.cycle,p,"cycle"),d.exposureSlider=c(d.exposurePicker,l.sample.list("exposure"),l.exposure,p,"exposure"),a&&u.disableCycle(),t&&u.disableExposure()},p=function(i,c){l[i]!==c&&(l[i]=c,"name"===i&&(l.sample=e.get({name:c,get_samples:!0})[0],s()),m(o(l)))},d.img_picker=$("<div>",{class:"row"}),d.samp_picker=$("<div>"),$("<h2>Sample</h2>").appendTo(d.samp_picker),d.samp_dropdown=$("<select>",{class:"form-control"}).appendTo(d.samp_picker),n=0;n<r.length;n+=1)d.samp_dropdown.append('<option value="'+r[n]+'" >'+r[n]+"</option>");return d.samp_picker.appendTo($("<div>",{class:"col-sm-4 col-xs-12"}).appendTo(d.img_picker)),d.samp_dropdown.change(function(e){p("name",$(this).val())}),d.cyclePicker=$("<div>",{class:"col-sm-4 col-xs-12"}).appendTo(d.img_picker),d.exposurePicker=$("<div>",{class:"col-sm-4 col-xs-12"}).appendTo(d.img_picker),d.img_picker.appendTo(d.div),p("name",r[0]),u}}(KINOME);