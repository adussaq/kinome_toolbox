var TABULAR={};!function(e){"use strict";e.enrich=function(r){var n,a,t,o,s,i,l,h,d,u,c,f,p;if(d=function(){var e,n=u(r);if(!n.header&&n.has_header)n.header=n.data.shift(),n.has_row_label&&(n.row_label_name=n.header.shift(),0===n.row_label_name.length&&delete n.row_label_name);else if(!n.header)for(n.header=[],e=0;e<n.data[0];e+=1)n.header.push(e);if(!n.row_labels&&n.has_row_label)n.row_labels=n.data.map(function(e){return e.shift()});else if(!n.row_labels)for(n.row_labels=[],e=0;e<n.data;e+=1)n.row_labels.push(e);n.data=n.data.map(function(e){return e.map(function(e){if(Number.isFinite(1*e))return 1*e})}),r=n},h=function(){var e,l=1,h=r;for(n=h.header,a=h.row_labels,t=h.row_label_name,o=h.data,s={},i={},e=0;e<n.length;e+=1){for(;s.hasOwnProperty(n[e]);)l>1&&(n[e]=n[e].replace(new RegExp("_"+(l-1)+"$"),"")),n[e]=n[e]+"_"+l,l+=1;s[n[e]]=e,l=1}for(e=0;e<a.length;e+=1){for(;i.hasOwnProperty(a[e]);)l>1&&(a[e]=a[e].replace(new RegExp("_"+(l-1)+"$"),"")),a[e]=a[e]+"_"+l,l+=1;i[a[e]]=e,l=1}},l=function(){c=function(r,l){var h,d,u,c,f,p,w,y=[],_=!1,m=!1;if((r=r||{}).hasOwnProperty("header")?d=r.header:r.hasOwnProperty("headers")?d=r.headers:r.hasOwnProperty("header_index")?(d=r.header_index,m=!0):r.hasOwnProperty("header_indexes")?(d=r.header_indexes,m=!0):r.hasOwnProperty("header_indices")?(d=r.header_indices,m=!0):r.hasOwnProperty("column")?d=r.column:r.hasOwnProperty("columns")?d=r.columns:r.hasOwnProperty("column_index")?(d=r.column_index,m=!0):r.hasOwnProperty("column_indexes")?(d=r.column_indexes,m=!0):r.hasOwnProperty("column_indices")?(d=r.column_indices,m=!0):d=n,"object"==typeof d||Array.isArray(d)||(d=[d]),r.hasOwnProperty("row")?h=r.row:r.hasOwnProperty("rows")?h=r.rows:r.hasOwnProperty(t)?h=r[t]:r.hasOwnProperty(t+"s")?h=r[t+"s"]:r.hasOwnProperty(t+"es")?h=r[t+"es"]:r.hasOwnProperty("row_index")?(h=r.row_index,_=!0):r.hasOwnProperty("row_indexes")?(h=r.row_indexes,_=!0):r.hasOwnProperty("row_indices")?(h=r.row_indices,_=!0):h=a,"object"==typeof h||Array.isArray(h)||(h=[h]),!Array.isArray(d)||!Array.isArray(h))return console.error("Invalid Get Parameters"),!1;for(p=[],w=[],u=0;u<h.length;u+=1)for(y[u]=[],_?(f=o[h[u]],p[u]=a[h[u]]):(f=o[i[h[u]]],p[u]=h[u]),c=0;c<d.length;c+=1)m?(y[u].push(f[d[c]]),w[c]=n[d[c]]):(y[u].push(f[s[d[c]]]),w[c]=d[c]);return l?(1===(y=y.map(function(e){return 1===e.length?e[0]:e})).length&&(y=y[0]),y):e.enrich({data:y,header:w,row_labels:p,row_label_name:t})},f=function(){var e,r,n=this.clone();for(e=0;e<n.data.length;e+=1)for(r=0;r<n.data[e].length;r+=1)n.data[e][r]&&"number"==typeof n.data[e][r]&&(n.data[e][r]=1*n.data[e][r].toPrecision(6));return JSON.stringify(n)},p=function(){var r,n,a,t,o;for(r=u(this),n=Object.getOwnPropertyNames(this),a=Object.getOwnPropertyNames(r),t=0;t<n.length;t+=1)for(o=0;o<a.length;o+=1)if(n[t]===a[o]){n.splice(t,1),a.splice(o,1),t-=1;break}for(t=0;t<n.length;t+=1)"function"!=typeof this[n[t]]&&Object.defineProperty(r,n[t],{enumerable:!1,configurable:!1,writable:!1,value:this[n[t]]});return e.enrich(r)}},u=function(e){return JSON.parse(JSON.stringify(e))},"object"==typeof r&&!Array.isArray(r)&&!r.hasOwnProperty("get"))return d(),h(),l(),Object.defineProperty(r,"clone",{value:p,enumerable:!1}),Object.defineProperty(r,"stringify",{value:f,enumerable:!1}),Object.defineProperty(r,"get",{value:c,enumerable:!1}),r},e.parse=function(e){return e.replace(/^\s*$/gm,"").split("\n").map(function(e){return e.split("\t")})}}("undefined"!=typeof module&&module.exports?module.exports:TABULAR);